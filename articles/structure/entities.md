# Entities, components and models

## Entities
An **[Entity](xref:SpiceSharp.Circuits.Entity)** is the base class for any object that can be used in simulations, can be connected, etc. It has two main functions:

- Generating **[Behavior](xref:SpiceSharp.Behaviors.Behavior)** objects when asked by a **[Simulation](xref:SpiceSharp.Simulations.Simulation)**. It acts as a behavior *factory*. These factories are provided by the **[Behaviors](xref:SpiceSharp.Circuits.Entity#SpiceSharp_Circuits_Entity_Behaviors)** property.
- Providing the parameters that may or may not be used by any behavior generated by the entity. These are stored in the **[ParameterSets](xref:SpiceSharp.Circuits.Entity#SpiceSharp_Circuits_Entity_ParameterSets)** property.

Each entity is identified by a string. It is also responsible for *connections* to other entities. For example, a **[MutualInductance](xref:SpiceSharp.Components.MutualInductance)** entity will need two other inductors that are magnetically coupled. The entity is in charge of finding the information of these inductors, and passing it to the generated behaviors.

## Components and Models
The **[Component](xref:SpiceSharp.Components.Component)** and **[Model](xref:SpiceSharp.Components.Model)** both implement the **[Entity](xref:SpiceSharp.Circuits.Entity)** class. They provide a framework that is similar to the way Spice 3f5 originally implemented devices and models.

Each **[Component](xref:SpiceSharp.Components.Component)** can be connected in the circuit using the *[Connect](xref:SpiceSharp.Components.Component#SpiceSharp_Components_Component_Connect_System_String___)* method. During simulation setup, these connections are used to build the unknown variables/node voltages. Each component also has a **[Model](xref:SpiceSharp.Components.Model)** similar to Spice models. Their main function is to make sure that any behaviors generated by the model are executed *before* those of the component.

### Component attributes
Using some attributes, it is possible to add meta-information about the entity. Some of these attributes can be used by the circuit validator.

- **[PinAttribute](xref:SpiceSharp.Attributes.PinAttribute)**: Specifies the name of the pin for components. For example, a diode has 2 pins, *D+* at index 0 and *D-* at index 1, in that order when using the *[Connect](xref:SpiceSharp.Components.Component#SpiceSharp_Components_Component_Connect_System_String___)* method.
- **[ConnectedAttribute](xref:SpiceSharp.Attributes.ConnectedAttribute)**: This attribute will indicate that two pins are connected by a finite impedance at DC. This attribute can be used by a **[Validator](xref:SpiceSharp.Circuits.Validator)** to find floating nodes. Floating nodes can have *any* voltage, which poses a problem for the simulation.
- **[IndependentSourceAttribute](xref:SpiceSharp.Attributes.IndependentSourceAttribute)**: Flags the entity as one that describes an independent source. This attribute can be used by a **[Validator](xref:SpiceSharp.Circuits.Validator)** to make sure there is at least one independent source in the circuit.
- **[VoltageDriverAttribute](xref:SpiceSharp.Attributes.VoltageDriverAttribute)**: Indicates that this entity will fix the voltage between two nodes. This attribute can be used by a **[Validator](xref:SpiceSharp.Circuits.Validator)** to find voltage source loops which are invalid. Note that the counterpart for current drivers is already validated using the **[ConnectedAttribute](xref:SpiceSharp.Attributes.ConnectedAttribute)**.

<div class="pull-left">[Previous: Structure](structure.md)</div> <div class="pull-right">[Next: Parameters](parameters.md)</div>
